(()=>{"use strict";const t=t=>{const e=t;let o=[];return(()=>{for(let t=0;t<e;t++)o.push("")})(),{length:e,hitSpots:o,hit:t=>o[t]="hit",isSunk:()=>o.every((t=>"hit"===t))}};(()=>{(()=>{const t=document.querySelector(".player-board"),e=document.querySelector(".computer-board");for(let o=0;o<10;o++)for(let s=0;s<10;s++){const n=document.createElement("div"),r=document.createElement("div");n.classList.add("cell"),n.setAttribute("x",s),n.setAttribute("y",o),t.appendChild(n),r.classList.add("cell"),r.setAttribute("x",s),r.setAttribute("y",o),e.appendChild(r)}})();const e={turn:(t,e,o)=>{t.gameboard.receiveAttack(e,o)},gameboard:(()=>{const e=[];let o="horizontal";const s=[],n=[];let r=[],c=[];const i=(t,e)=>t.every((t=>e.includes(t)));return{place:(s,n,l)=>{if("horizontal"==o){const o=t(s),a=[],u=[];if((()=>{for(let t=0;t<o.length;t++)a.push(n+t);u.push(l)})(),i(a,r)&&i(u,c))return;a.forEach((t=>r.push(t))),u.forEach((t=>c.push(t))),e.push({locationsH:a,locationsV:u,newShip:o})}else if("vertical"==o){const o=t(s),a=[],u=[];if((()=>{a.push(n);for(let t=0;t<o.length;t++)u.push(l+t)})(),i(a,r)&&i(u,c))return;a.forEach((t=>r.push(t))),u.forEach((t=>c.push(t))),e.push({locationsH:a,locationsV:u,newShip:o})}},change:()=>{o="vertical"!=o?"vertical":"horizontal"},receiveAttack:(t,o)=>{let r,c;return r=e.find((e=>e.locationsH.includes(t)&&e.locationsV.includes(o))),null==r?(n.push([t,o]),s.push([t,o]),"miss"):1==r.locationsV.length?(c=r.locationsH.findIndex((e=>e==t)),r.newShip.hit(c),n.push([t,o]),"hit"):(c=r.locationsV.findIndex((t=>t==o)),r.newShip.hit(c),n.push([t,o]),"hit")},allSunk:()=>{const t=t=>t.isSunk();if(e.every((e=>t)))return!0},shot:s,missed:n,ships:e,arrangement:o}})()};e.gameboard.change(),e.gameboard.place(2,3,3),function(t){const e=Array.from(document.querySelectorAll(".player-board > .cell")),o=t.gameboard.ships;console.log(e),o.forEach((t=>{const o=t.locationsH,s=t.locationsV,n=e.filter((t=>o.includes(parseInt(t.attributes[1].value))&&s.includes(parseInt(t.attributes[2].value))));n.forEach((t=>t.classList.add("occupied")))}))}(e)})()})();